@model IEnumerable<JTX_Ecom.Models.Order>

@{
    ViewData["Title"] = "Manage Orders";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="card">
    <div class="card-header">
        <h5 class="card-title mb-0">All Orders</h5>
    </div>
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>Order #</th>
                        <th>Customer</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Quantity</th>
                        <th>Total Amount</th>
                        <th>Payment Status</th>
                        <th>Order Date</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Any())
                    {
                        @foreach (var order in Model)
                        {
                            <tr>
                                <td><strong>@order.OrderNumber</strong></td>
                                <td>@order.CustomerName</td>
                                <td>@order.CustomerEmail</td>
                                <td>@order.CustomerPhone</td>
                                <td>@order.Quantity</td>
                                <td>$@order.TotalAmount.ToString("N2")</td>
                                <td>
                                    @switch (order.PaymentStatus)
                                    {
                                        case "Completed":
                                            <span class="badge bg-success">@order.PaymentStatus</span>
                                            break;
                                        case "Pending":
                                            <span class="badge bg-warning">@order.PaymentStatus</span>
                                            break;
                                        case "Failed":
                                            <span class="badge bg-danger">@order.PaymentStatus</span>
                                            break;
                                        case "Refunded":
                                            <span class="badge bg-secondary">@order.PaymentStatus</span>
                                            break;
                                        default:
                                            <span class="badge bg-secondary">@order.PaymentStatus</span>
                                            break;
                                    }
                                </td>
                                <td>@order.OrderDate.ToString("MMM dd, yyyy HH:mm")</td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="8" class="text-center py-5">
                                <i class="bi bi-inbox" style="font-size: 3rem; opacity: 0.3;"></i>
                                <p class="text-muted mt-3">No orders found</p>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>
